import{XtalMethod}from'./xtal-method.js';var XtalIMEX=function(a){function b(){babelHelpers.classCallCheck(this,b);var a=babelHelpers.possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments));return a.insertFragmentRegExp=/XtalIMEX.insert\((.*)\);/g,a}return babelHelpers.inherits(b,a),babelHelpers.createClass(b,[{key:'evaluateScriptText',value:function(){var a=this,b=this.querySelector('script');return b?void this.applyScript(b):void setTimeout(function(){a.evaluateScriptText()},100)}},{key:'applyScript',value:function(a){var b=a.innerText;if(b!==this._previousEvaluatedText){this._previousEvaluatedText=b;for(var c=b.split(this.insertFragmentRegExp),d=c.map(function(a,b){if(0===b%2)return a;var c='',d=a.split(',').forEach(function(a){var b=window[a.trim()];b?c+=b.innerHTML:console.error('script tag with selector '+a+' not found')});return c}),e=d.join(''),f=e.split('export const '),g=0,h=1,i=f.length;h<i;h++){var j=f[h],k=j.indexOf('='),l=j.substr(0,k).trim();f[h]='const '+l+' = exportconst.'+l+' = '+j.substr(k+1)}var m=f.join(''),n=-1<m.indexOf('await ')?'async':'',o='[\n            '+n+' function () {\n                const exportconst = {};\n                '+m+'\n                return exportconst;\n            }\n            ]',p=eval(o),q=this;if(n)var r=p[0]().then(function(a){Object.assign(q,a)}).catch(function(a){throw a});else Object.assign(q,p[0]())}}},{key:'connectedCallback',value:function(){this.evaluateScriptText()}}],[{key:'is',get:function(){return'xtal-im-ex'}}]),b}(XtalMethod);customElements.define(XtalIMEX.is,XtalIMEX);